{"version":3,"file":"NativeTabsView.web.js","sourceRoot":"","sources":["../../../src/native-tabs/NativeBottomTabs/NativeTabsView.web.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  NavigationMenu,\n  NavigationMenuItem,\n  NavigationMenuList,\n  NavigationMenuTrigger,\n} from '@radix-ui/react-navigation-menu';\nimport React from 'react';\n\nimport nativeTabsStyles from './native-tabs-styles';\nimport type { NativeTabsViewProps } from './types';\nimport { shouldTabBeVisible } from './utils';\n\nexport function NativeTabsView(props: NativeTabsViewProps) {\n  const { builder } = props;\n  const { state, descriptors, navigation } = builder;\n  const { routes } = state;\n\n  const items = routes\n    .filter(({ key }) => shouldTabBeVisible(descriptors[key].options))\n    .map((route, index) => (\n      <TabItem\n        key={route.key}\n        isFocused={state.index === index}\n        title={descriptors[route.key].options.title ?? route.name}\n        badgeValue={descriptors[route.key].options.badgeValue}\n        onPress={() => {\n          navigation.dispatch({\n            type: 'JUMP_TO',\n            target: state.key,\n            payload: {\n              name: route.name,\n            },\n          });\n        }}\n      />\n    ));\n  const children = routes\n    .filter(\n      ({ key }, index) => shouldTabBeVisible(descriptors[key].options) && state.index === index\n    )\n    .map((route) => {\n      return <div className={nativeTabsStyles.tabContent}>{descriptors[route.key].render()}</div>;\n    });\n\n  return (\n    <div\n      className={nativeTabsStyles.nativeTabsContainer}\n      style={convertNativeTabsPropsToStyleVars(props.style)}>\n      <NavigationMenu className={nativeTabsStyles.navigationMenuRoot}>\n        <NavigationMenuList className={nativeTabsStyles.navigationMenuList}>\n          {items}\n        </NavigationMenuList>\n      </NavigationMenu>\n      {children}\n    </div>\n  );\n}\n\ninterface TabItemProps {\n  isFocused: boolean;\n  title: string;\n  badgeValue?: string;\n  onPress: () => void;\n}\n\nfunction TabItem(props: TabItemProps) {\n  const { isFocused, title, onPress, badgeValue } = props;\n  const isBadgeEmpty = badgeValue === ' ';\n\n  return (\n    <NavigationMenuItem className={nativeTabsStyles.navigationMenuItem}>\n      <NavigationMenuTrigger\n        onClick={onPress}\n        className={`${nativeTabsStyles.navigationMenuTrigger} ${isFocused ? nativeTabsStyles.navigationMenuTriggerActive : ''}`}>\n        <span className={nativeTabsStyles.tabText}>{title}</span>\n        {badgeValue && (\n          <div\n            className={`${nativeTabsStyles.tabBadge} ${isBadgeEmpty ? nativeTabsStyles.emptyTabBadge : ''}`}>\n            {badgeValue}\n          </div>\n        )}\n      </NavigationMenuTrigger>\n    </NavigationMenuItem>\n  );\n}\n\nfunction convertNativeTabsPropsToStyleVars(\n  style: NativeTabsViewProps['style'] | undefined\n): Record<string, string | undefined> {\n  const vars: Record<`--expo-router-native-tabs-${string}`, string | undefined> = {};\n  if (!style) {\n    return vars;\n  }\n  if (style.fontFamily) {\n    vars['--expo-router-native-tabs-font-family'] = String(style.fontFamily);\n  }\n  if (style.fontSize) {\n    vars['--expo-router-native-tabs-font-size'] = String(style.fontSize);\n  }\n  if (style.fontWeight) {\n    vars['--expo-router-native-tabs-font-weight'] = String(style.fontWeight);\n  }\n  if (style.fontStyle) {\n    vars['--expo-router-native-tabs-font-style'] = String(style.fontStyle);\n  }\n  if (style.color) {\n    vars['--expo-router-native-tabs-text-color'] = String(style.color);\n  }\n  if (style['&:active']?.color) {\n    vars['--expo-router-native-tabs-active-text-color'] = String(style['&:active'].color);\n  } else if (style.tintColor) {\n    vars['--expo-router-native-tabs-active-text-color'] = String(style.tintColor);\n  }\n  if (style['&:active']?.fontSize) {\n    vars['--expo-router-native-tabs-active-font-size'] = String(style['&:active'].fontSize);\n  }\n  if (style['&:active']?.indicatorColor) {\n    vars['--expo-router-native-tabs-active-background-color'] = String(\n      style['&:active'].indicatorColor\n    );\n  }\n  if (style.backgroundColor) {\n    vars['--expo-router-native-tabs-background-color'] = String(style.backgroundColor);\n  }\n  if (style.badgeBackgroundColor) {\n    vars['--expo-router-native-tabs-badge-background-color'] = String(style.badgeBackgroundColor);\n  }\n  if (style.badgeTextColor) {\n    vars['--expo-router-native-tabs-badge-text-color'] = String(style.badgeTextColor);\n  }\n  return vars;\n}\n"]}